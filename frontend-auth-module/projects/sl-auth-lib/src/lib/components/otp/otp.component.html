<div class="header">
  <a (click)="navigateBack()" class="back-arrow">
    <mat-icon>arrow_back</mat-icon>
  </a>
</div>

<div class="login-container">
  <h1>Validate OTP</h1>
  <div class="hrTag">
  </div>

  <button type="button" (click)="processOTP('generate')" class="signUpButton" *ngIf="!otpInput; else otpScreen">Generate
    OTP</button>

  <ng-template #otpScreen>

    <div class="ngx-otp-input-wrapper">
      <ng-otp-input (onInputChange)="onOtpChange($event)" [config]="config"></ng-otp-input>
    </div>

    <p class="note">You will receive an OTP on your registered email address.</p>

    <div class="terms">
      <input type="checkbox" name="terms" [(ngModel)]="checkbox" id="terms-checkbox">
      <p>By continuing, you agree to accept our <a [href]="configData?.privacyPolicyUrl" target="_blank">Privacy
          Policy</a> & <a [href]="configData?.termOfUseUrl" target="_blank">Terms of
          Service</a></p>
    </div>

    <button type="button" [disabled]="!isOtpValid()" [ngClass]="{'btn-disabled': !isOtpValid()}"
      (click)="processOTP('verify')">Verify and login</button>

    <p *ngIf="timeLeft > 0">Try again after {{ timeLeft }} seconds.
    </p>

    <p [ngClass]="{'reset-btn-disabled': timeLeft > 0}" class="login-route">
      <a (click)=" timeLeft <= 0 ? processOTP('generate'):false">Resend OTP</a>
    </p>
  </ng-template>
</div>